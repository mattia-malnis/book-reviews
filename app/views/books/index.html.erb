<% content_for :header do %>
  <div class="flex-grow mx-4 max-w-3xl">
    <%= form_with url: request.path, method: :get, class: "relative", data: { turbo_frame: "listing", turbo_action: "advance" } do %>
      <%= text_field_tag :query, params[:query], autocomplete: "off", placeholder: "Search books...", class: "w-full py-2 px-4 bg-gray-100 border-2 border-gray-200 text-gray-800 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition duration-150" %>
      <%= button_tag type: "submit", name: nil, class: "absolute inset-y-0 right-0 flex items-center pr-4" do %>
        <%= inline_svg_tag("search.svg", class: "w-5 h-5 text-gray-500 hover:text-blue-500 transition duration-150") %>
      <% end %>
    <% end %>
  </div>
<% end %>

<div class="container mx-auto mt-8 px-4 lg:px-6 pb-8 lg:pb-12">
  <%= turbo_frame_tag "listing", target: "_top" do %>
    <% if @books.blank? %>
      <%= render partial: "empty_list" %>
    <% else %>
      <%= render partial: "books" %>
    <% end %>
  <% end %>
</div>
